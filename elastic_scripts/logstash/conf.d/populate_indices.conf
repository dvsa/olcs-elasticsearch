input {
    jdbc {
        jdbc_driver_library => "/opt/dvsa/olcs/mysql-connector-java-5.1.41-bin.jar"
        jdbc_driver_class => "com.mysql.jdbc.Driver"
        jdbc_connection_string => "jdbc:mysql://olcsdb-rds.olcs.reg.nonprod.dvsa.aws:3306/OLCS_RDS_OLCSDB"
        jdbc_user => "olcsapi"
        jdbc_password => "somevariable"
        schedule => "* * * * *"
        statement => "call sp_elastic_address(:sql_last_value)"
        type => "address"
        last_run_metadata_path => "/etc/logstash/lastrun/address.lastrun"
    }
}

input {
    jdbc {
        jdbc_driver_library => "/opt/dvsa/olcs/mysql-connector-java-5.1.41-bin.jar"
        jdbc_driver_class => "com.mysql.jdbc.Driver"
        jdbc_connection_string => "jdbc:mysql://olcsdb-rds.olcs.reg.nonprod.dvsa.aws:3306/OLCS_RDS_OLCSDB"
        jdbc_user => "olcsapi"
        jdbc_password => "somevariable"
        schedule => "* * * * *"
        statement => "call sp_elastic_application(:sql_last_value)"
        type => "application"
        last_run_metadata_path => "/etc/logstash/lastrun/application.lastrun"
    }
}

input {
    jdbc {
        jdbc_driver_library => "/opt/dvsa/olcs/mysql-connector-java-5.1.41-bin.jar"
        jdbc_driver_class => "com.mysql.jdbc.Driver"
        jdbc_connection_string => "jdbc:mysql://olcsdb-rds.olcs.reg.nonprod.dvsa.aws:3306/OLCS_RDS_OLCSDB"
        jdbc_user => "olcsapi"
        jdbc_password => "somevariable"
        schedule => "* * * * *"
        statement => "call sp_elastic_busreg(:sql_last_value)"
        type => "busreg"
        last_run_metadata_path => "/etc/logstash/lastrun/busreg.lastrun"
    }
}

input {
    jdbc {
        jdbc_driver_library => "/opt/dvsa/olcs/mysql-connector-java-5.1.41-bin.jar"
        jdbc_driver_class => "com.mysql.jdbc.Driver"
        jdbc_connection_string => "jdbc:mysql://olcsdb-rds.olcs.reg.nonprod.dvsa.aws:3306/OLCS_RDS_OLCSDB"
        jdbc_user => "olcsapi"
        jdbc_password => "somevariable"
        schedule => "* * * * *"
        statement => "call sp_elastic_case(:sql_last_value)"
        type => "case"
        last_run_metadata_path => "/etc/logstash/lastrun/case.lastrun"
    }
}

input {
    jdbc {
        jdbc_driver_library => "/opt/dvsa/olcs/mysql-connector-java-5.1.41-bin.jar"
        jdbc_driver_class => "com.mysql.jdbc.Driver"
        jdbc_connection_string => "jdbc:mysql://olcsdb-rds.olcs.reg.nonprod.dvsa.aws:3306/OLCS_RDS_OLCSDB"
        jdbc_user => "olcsapi"
        jdbc_password => "somevariable"
        schedule => "* * * * *"
        statement => "call sp_elastic_irfo(:sql_last_value)"
        type => "irfo"
        last_run_metadata_path => "/etc/logstash/lastrun/irfo.lastrun"
    }
}
input {
    jdbc {
        jdbc_driver_library => "/opt/dvsa/olcs/mysql-connector-java-5.1.41-bin.jar"
        jdbc_driver_class => "com.mysql.jdbc.Driver"
        jdbc_connection_string => "jdbc:mysql://olcsdb-rds.olcs.reg.nonprod.dvsa.aws:3306/OLCS_RDS_OLCSDB"
        jdbc_user => "olcsapi"
        jdbc_password => "somevariable"
        schedule => "* * * * *"
        statement => "call sp_elastic_licence(:sql_last_value)"
        type => "licence"
        last_run_metadata_path => "/etc/logstash/lastrun/licence.lastrun"
    }
}

input {
    jdbc {
        jdbc_driver_library => "/opt/dvsa/olcs/mysql-connector-java-5.1.41-bin.jar"
        jdbc_driver_class => "com.mysql.jdbc.Driver"
        jdbc_connection_string => "jdbc:mysql://olcsdb-rds.olcs.reg.nonprod.dvsa.aws:3306/OLCS_RDS_OLCSDB"
        jdbc_user => "olcsapi"
        jdbc_password => "somevariable"
        schedule => "* * * * *"
        statement => "call sp_elastic_person(:sql_last_value)"
        type => "person"
        last_run_metadata_path => "/etc/logstash/lastrun/person.lastrun"
    }
}

input {
    jdbc {
        jdbc_driver_library => "/opt/dvsa/olcs/mysql-connector-java-5.1.41-bin.jar"
        jdbc_driver_class => "com.mysql.jdbc.Driver"
        jdbc_connection_string => "jdbc:mysql://olcsdb-rds.olcs.reg.nonprod.dvsa.aws:3306/OLCS_RDS_OLCSDB"
        jdbc_user => "olcsapi"
        jdbc_password => "somevariable"
        schedule => "* * * * *"
        statement => "call sp_elastic_psv_disc(:sql_last_value)"
        type => "psv_disc"
        last_run_metadata_path => "/etc/logstash/lastrun/psv_disc.lastrun"
    }
}

input {
    jdbc {
        jdbc_driver_library => "/opt/dvsa/olcs/mysql-connector-java-5.1.41-bin.jar"
        jdbc_driver_class => "com.mysql.jdbc.Driver"
        jdbc_connection_string => "jdbc:mysql://olcsdb-rds.olcs.reg.nonprod.dvsa.aws:3306/OLCS_RDS_OLCSDB"
        jdbc_user => "olcsapi"
        jdbc_password => "somevariable"
        schedule => "* * * * *"
        statement => "call sp_elastic_publication(:sql_last_value)"
        type => "publication"
        last_run_metadata_path => "/etc/logstash/lastrun/publication.lastrun"
    }
}
input {
    jdbc {
        jdbc_driver_library => "/opt/dvsa/olcs/mysql-connector-java-5.1.41-bin.jar"
        jdbc_driver_class => "com.mysql.jdbc.Driver"
        jdbc_connection_string => "jdbc:mysql://olcsdb-rds.olcs.reg.nonprod.dvsa.aws:3306/OLCS_RDS_OLCSDB"
        jdbc_user => "olcsapi"
        jdbc_password => "somevariable"
        schedule => "* * * * *"
        statement => "call sp_elastic_user(:sql_last_value)"
        type => "user"
        last_run_metadata_path => "/etc/logstash/lastrun/user.lastrun"
    }
}

input {
    jdbc {
        jdbc_driver_library => "/opt/dvsa/olcs/mysql-connector-java-5.1.41-bin.jar"
        jdbc_driver_class => "com.mysql.jdbc.Driver"
        jdbc_connection_string => "jdbc:mysql://olcsdb-rds.olcs.reg.nonprod.dvsa.aws:3306/OLCS_RDS_OLCSDB"
        jdbc_user => "olcsapi"
        jdbc_password => "somevariable"
        schedule => "* * * * *"
        statement => "call sp_elastic_vehicle_current(:sql_last_value)"
        type => "vehicle_current"
        last_run_metadata_path => "/etc/logstash/lastrun/vehicle_current.lastrun"
    }
}

input {
    jdbc {
        jdbc_driver_library => "/opt/dvsa/olcs/mysql-connector-java-5.1.41-bin.jar"
        jdbc_driver_class => "com.mysql.jdbc.Driver"
        jdbc_connection_string => "jdbc:mysql://olcsdb-rds.olcs.reg.nonprod.dvsa.aws:3306/OLCS_RDS_OLCSDB"
        jdbc_user => "olcsapi"
        jdbc_password => "somevariable"
        schedule => "* * * * *"
        statement => "call sp_elastic_vehicle_removed(:sql_last_value)"
        type => "vehicle_removed"
        last_run_metadata_path => "/etc/logstash/lastrun/vehicle_removed.lastrun"
    }
}

filter {
    mutate {
        rename => {
            "_id" => "doc_id"
        }
    }
}

output {
        elasticsearch {
            hosts => ["http://search.olcs.reg.nonprod.dvsa.aws:9200"]
            index => "%{type}"
            document_id => "%{doc_id}"
            document_type => "address"
            template => "/etc/logstash/templates/%{type}.json"
            manage_template => true
            template_overwrite => true
            template_name => "{%type}"
        }
    }
